{% extends "base.html" %}

{% block title %}À propos - Drug Classification{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <div class="card">
            <div class="card-header">
                <i class="fas fa-info-circle"></i> À Propos du Projet
            </div>
            <div class="card-body">
                <h2 class="mb-4">Drug Classification System</h2>
                <p class="lead">
                    Un système intelligent de prédiction de médicaments basé sur Machine Learning,
                    développé dans le cadre du cours MLOps - Atelier 4.
                </p>

                <hr>

                <h4><i class="fas fa-bullseye"></i> Objectifs du Projet</h4>
                <ul class="mb-4">
                    <li>Exposer un modèle ML via une <strong>API REST (FastAPI)</strong></li>
                    <li>Créer une <strong>interface web intuitive (Flask)</strong></li>
                    <li>Permettre des <strong>prédictions en temps réel</strong></li>
                    <li>Implémenter le <strong>ré-entraînement en ligne</strong> (Excellence)</li>
                    <li>Appliquer les bonnes pratiques <strong>MLOps</strong></li>
                </ul>

                <h4><i class="fas fa-cogs"></i> Technologies Utilisées</h4>
                <div class="row mb-4">
                    <div class="col-md-4 mb-3">
                        <div class="card bg-light h-100">
                            <div class="card-body">
                                <h5><i class="fas fa-brain text-primary"></i> Machine Learning</h5>
                                <ul class="small mb-0">
                                    <li>Scikit-learn</li>
                                    <li>Pandas & NumPy</li>
                                    <li>Random Forest</li>
                                    <li>SMOTE (imbalanced-learn)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card bg-light h-100">
                            <div class="card-body">
                                <h5><i class="fas fa-server text-success"></i> Backend</h5>
                                <ul class="small mb-0">
                                    <li>FastAPI (API REST)</li>
                                    <li>Flask (Interface Web)</li>
                                    <li>Pydantic (Validation)</li>
                                    <li>Uvicorn (Serveur ASGI)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card bg-light h-100">
                            <div class="card-body">
                                <h5><i class="fas fa-paint-brush text-info"></i> Frontend</h5>
                                <ul class="small mb-0">
                                    <li>Bootstrap 5</li>
                                    <li>Font Awesome</li>
                                    <li>JavaScript (AJAX)</li>
                                    <li>HTML5 / CSS3</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <h4><i class="fas fa-project-diagram"></i> Architecture</h4>
                <div class="card bg-light mb-4">
                    <div class="card-body">
                        <div class="text-center">
                            <div class="mb-3">
                                <i class="fas fa-user fa-2x"></i>
                                <p class="mb-0"><strong>Utilisateur</strong></p>
                            </div>
                            <div class="mb-2">↓</div>
                            <div class="mb-3">
                                <i class="fab fa-python fa-2x text-primary"></i>
                                <p class="mb-0"><strong>Flask (Port 5000)</strong></p>
                                <small class="text-muted">Interface Web</small>
                            </div>
                            <div class="mb-2">↓ HTTP Requests ↓</div>
                            <div class="mb-3">
                                <i class="fas fa-rocket fa-2x text-success"></i>
                                <p class="mb-0"><strong>FastAPI (Port 8000)</strong></p>
                                <small class="text-muted">API REST</small>
                            </div>
                            <div class="mb-2">↓</div>
                            <div class="mb-3">
                                <i class="fas fa-brain fa-2x text-info"></i>
                                <p class="mb-0"><strong>Random Forest Model</strong></p>
                                <small class="text-muted">models/random_forest_model.pkl</small>
                            </div>
                        </div>
                    </div>
                </div>

                <h4><i class="fas fa-check-circle"></i> Fonctionnalités</h4>
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h6><i class="fas fa-brain text-primary"></i> Prédiction</h6>
                        <p class="small text-muted">
                            Interface conviviale pour saisir les données patient et obtenir
                            une prédiction instantanée du médicament approprié.
                        </p>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-sync-alt text-success"></i> Ré-entraînement</h6>
                        <p class="small text-muted">
                            Optimisez le modèle en ajustant les hyperparamètres (n_estimators,
                            max_leaf_nodes, etc.) sans redémarrer le serveur.
                        </p>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-info-circle text-info"></i> Informations Modèle</h6>
                        <p class="small text-muted">
                            Consultez les détails techniques du modèle : type, hyperparamètres,
                            classes prédites, et état de l'API.
                        </p>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-book text-warning"></i> Documentation</h6>
                        <p class="small text-muted">
                            Documentation Swagger UI interactive disponible sur
                            http://localhost:8000/docs
                        </p>
                    </div>
                </div>

                <h4><i class="fas fa-database"></i> Dataset</h4>
                <p class="mb-4">
                    Le modèle est entraîné sur <strong>drug200.csv</strong>, un dataset contenant
                    200 patients avec leurs caractéristiques (âge, sexe, pression artérielle,
                    cholestérol, ratio Na/K) et le médicament prescrit.
                </p>

                <h4><i class="fas fa-graduation-cap"></i> Contexte Académique</h4>
                <div class="alert alert-info">
                    <strong>Cours :</strong> MLOps - Machine Learning Operations<br>
                    <strong>Atelier :</strong> Atelier 4 - Exposition de la Fonction Predict via FastAPI<br>
                    <strong>Année :</strong> 2025<br>
                    <strong>Excellence :</strong> Implémentation du ré-entraînement via API ✓
                </div>

                <h4><i class="fas fa-rocket"></i> Démarrage Rapide</h4>
                <div class="card bg-dark text-white mb-4">
                    <div class="card-body">
                        <p><strong># 1. Démarrer l'API FastAPI</strong></p>
                        <code>make serve</code>
                        
                        <p class="mt-3"><strong># 2. Démarrer l'interface Flask (nouveau terminal)</strong></p>
                        <code>python flask_app.py</code>
                        
                        <p class="mt-3"><strong># 3. Accéder à l'interface</strong></p>
                        <code>http://localhost:5000</code>
                    </div>
                </div>

                <div class="text-center mt-4">
                    <a href="{{ url_for('predict') }}" class="btn btn-primary btn-lg me-2">
                        <i class="fas fa-brain"></i> Essayer la Prédiction
                    </a>
                    <a href="http://localhost:8000/docs" target="_blank" class="btn btn-success btn-lg">
                        <i class="fas fa-book"></i> Documentation API
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
